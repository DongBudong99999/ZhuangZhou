<!DOCTYPE html>  
<html>  
<head>  
	<meta charset="UTF-8">
    <title>公式编辑器测试</title>
    <link rel="stylesheet" type="text/css" href="./css/global.css">
    <script type="text/javascript" src="./js/jquery-1.8.3.min.js"></script>  
    <script type="text/javascript" src="./js/editTips.js"></script> 
    
</head>  
<body>
    <div class="testEditTips"> 
        <h2>公式编辑器测试</h2>
        <textarea id="test" ></textarea>
    </div>
    <script type="text/javascript">
        var init = $(this).attr("init");
        if(!init){
            $("#test").editTips({
                triggerCharacterArr : ['$','@'],
                levelCharacter: '.',
                dropdownWidth:'150px',  
                keyPressAction:function(selectVal,callbacktips){
                    var arr_json;
                    if( selectVal == "$" ||  selectVal == "@"){
                        arr_json = ["a","ab","$b","bb","a","ab","$b","bb","a","ab","$b","bb"]
                    }
                    if(selectVal && selectVal.indexOf("$a")== 0){
                        arr_json = ["a","a","a","a"]
                    }
                    if(selectVal && selectVal.indexOf("$a.")== 0){
                        arr_json = ["b","bb"];
                    }
                    if(selectVal && selectVal.indexOf("$a.a")== 0){
                        arr_json = ["a.a","a.b","a.c"];
                    }
                    if(selectVal && selectVal.indexOf("$a.a.")== 0){
                        arr_json = ["b.a","b.b","b.c"];
                    }
                    if(selectVal && selectVal.indexOf("ab.")== 0){
                        arr_json = ["ab.a","ab.b","ab.c"];
                    }
                    if(selectVal && selectVal.indexOf("bb.")== 0){
                        arr_json = ["bb.a","bb.b","bb.c"];
                    }
                    callbacktips(arr_json);
                }           
            });  
        };     
        
    </script>
</body>  
</html>